// Copyright Tempo Simulation, LLC. All Rights Reserved

syntax = "proto3";

import "TempoScripting/Empty.proto";

enum ControlMode {
  NONE = 0;
  USER = 1;
  OPEN_LOOP = 2;
  CLOSED_LOOP = 3;
}

message LoadLevelRequest {
  string level = 1;
  bool deferred = 2;
  bool start_paused = 3;
}

message CurrentLevelResponse {
  string level = 1;
}

message GetAvailableLevelsRequest {
  string search_path = 1;  // e.g. "/Game/Maps" - empty string searches /Game/
}

message AvailableLevelsResponse {
  repeated string levels = 1;
}

message SetMainViewportRenderEnabledRequest {
  bool enabled = 1;
}

message SetControlModeRequest {
  ControlMode mode = 1;
}

service TempoCoreService {
  rpc LoadLevel(LoadLevelRequest) returns (TempoScripting.Empty);

  rpc FinishLoadingLevel(TempoScripting.Empty) returns (TempoScripting.Empty);

  rpc GetCurrentLevelName(TempoScripting.Empty) returns (CurrentLevelResponse);

  rpc GetAvailableLevels(GetAvailableLevelsRequest) returns (AvailableLevelsResponse);

  rpc Quit(TempoScripting.Empty) returns (TempoScripting.Empty);

  rpc SetMainViewportRenderEnabled(SetMainViewportRenderEnabledRequest) returns (TempoScripting.Empty);

  rpc SetControlMode(SetControlModeRequest) returns (TempoScripting.Empty);
}
