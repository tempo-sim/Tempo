// Copyright Tempo Simulation, LLC. All Rights Reserved

syntax = "proto3";

import "TempoScripting/Empty.proto";

message InstanceSemanticIdPair {
  int32 InstanceId = 1;
  int32 SemanticId = 2;
}

message InstanceToSemanticIdMap {
  repeated InstanceSemanticIdPair instance_semantic_id_pairs = 1;
}

message GetLabeledActorTypesRequest {
}

message GetLabeledActorTypesResponse {
  repeated string actor_types = 1; // List of actor class names with active instance IDs
}

message SetActorSemanticIdRequest {
  string actor_name = 1;
  int32 semantic_id = 2;  // 0-255 to set label, -1 to revert to default (auto from data table)
}

message ActorLabelInfo {
  string actor_name = 1;
  string actor_type = 2;
  int32 semantic_id = 3;
  int32 instance_id = 4;  // For Instance mode correlation
}

message GetAllActorLabelsRequest {
}

message GetAllActorLabelsResponse {
  repeated ActorLabelInfo actors = 1;
}

service LabelService {
  rpc GetInstanceToSemanticIdMap(TempoScripting.Empty) returns (InstanceToSemanticIdMap);
  rpc GetLabeledActorTypes(GetLabeledActorTypesRequest) returns (GetLabeledActorTypesResponse);
  rpc SetActorSemanticId(SetActorSemanticIdRequest) returns (TempoScripting.Empty);
  rpc GetAllActorLabels(GetAllActorLabelsRequest) returns (GetAllActorLabelsResponse);
}
