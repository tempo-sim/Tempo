// Copyright Tempo Simulation, LLC. All Rights Reserved

syntax = "proto3";

import "TempoSensorsShared/Common.proto";

enum ImageCompressionLevel {
  MIN = 0;
  LOW = 1;
  MID = 2;
  HIGH = 3;
  MAX = 4;
}

enum ColorEncoding {
  BGR8 = 0;
  RGB8 = 1;
}

message ColorImage {
  TempoSensorsShared.MeasurementHeader header = 1;
  uint32 width = 2;
  uint32 height = 3;
  bytes data = 4; // Raw bytes of an image file
  ColorEncoding encoding = 5;
}

message DepthImage {
  TempoSensorsShared.MeasurementHeader header = 1;
  uint32 width = 2;
  uint32 height = 3;
  repeated float depths = 4; // Depth along camera axis in cm of every pixel
}

message LabelImage {
  TempoSensorsShared.MeasurementHeader header = 1;
  uint32 width = 2;
  uint32 height = 3;
  bytes data = 4; // 0-255 label for every pixel
}

message BoundingBox2D {
  uint32 min_x = 1;  // Top-left corner X coordinate in pixels
  uint32 min_y = 2;  // Top-left corner Y coordinate in pixels
  uint32 max_x = 3;  // Bottom-right corner X coordinate in pixels
  uint32 max_y = 4;  // Bottom-right corner Y coordinate in pixels
  uint32 instance_id = 5;  // Instance ID from label image (1-255)
  uint32 semantic_id = 6;  // Semantic class ID
}

message BoundingBoxes {
  TempoSensorsShared.MeasurementHeader header = 1;
  uint32 width = 2;   // Image width for coordinate reference
  uint32 height = 3;  // Image height for coordinate reference
  repeated BoundingBox2D bounding_boxes = 4;
}

message ColorImageRequest {
  string owner_name = 1;
  string sensor_name = 2;
  ImageCompressionLevel compression_level = 3;
}

message DepthImageRequest {
  string owner_name = 1;
  string sensor_name = 2;
}

message LabelImageRequest {
  string owner_name = 1;
  string sensor_name = 2;
}

message BoundingBoxesRequest {
  string owner_name = 1;
  string sensor_name = 2;
}
